webpackJsonp([1],{"1/oy":function(t,e){},"3AY5":function(t,e,n){"use strict";var r=n("YaEn");e.a={data:function(){return{form:{userPhoneNumber:"",userName:"",userPassword:"",userIdentifyingCode:""},show:!0}},methods:{onSubmit:function(t){t.preventDefault();var e="userPhoneNumber="+this.form.userPhoneNumber+"&userName="+this.form.userName+"&userPassword="+this.form.userPassword+"&userIdentifyingCode="+this.form.userIdentifyingCode;console.log(e),fetch("http://ccssbb.cn/regist//",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e,mode:"cors",cache:"no-cache",credentials:"include"}).then(function(t){return t.json()}).then(function(t){console.log(t),"wrongCode"===t.registerStatus?alert("Wrong Code"):"fail"===t.registerStatus?alert("Register fail!"):(alert("Register success !"),r.a.push("login"))})},onReset:function(t){var e=this;t.preventDefault(),this.form.userPhoneNumber="",this.form.userName="",this.form.userPassword="",this.form.userIdentifyingCode="",this.show=!1,this.$nextTick(function(){e.show=!0})},getIdentifingCode:function(){var t="phone="+userPhoneNumber;fetch("http://ccssbb.cn/sms/",{headers:{"content-type":"application/x-www-form-urlencoded"},method:"post",body:t}).then(function(t){return t.json()}).then(function(t){"ok"===t.smsId?alert("获取成功！"):alert("获取失败！")})}}}},"3hq0":function(t,e,n){"use strict";var r=n("YtJ0"),o=n("YaEn");e.a={data:function(){return r.a.commit("init_login_status"),""===r.a.state.token?{se:"login",th:"register"}:{se:"Main",th:"Signout"}},methods:{login:function(){""===r.a.state.token?o.a.push("login"):o.a.push("/")},Signout:function(){""===r.a.state.token?o.a.push("register"):(r.a.commit("clear_login_status"),o.a.push("/"))},enroll:function(){""===r.a.state.token?(alert("请登陆之后再操作"),this.$router.push("")):(this.$router.push("enroll"),console.log("good enroll"))}},computed:{fi:function(){return""===r.a.state.token?(this.se="login",this.th="register","Please login"):(this.se="Main",this.th="Signout",r.a.state.userName)}}}},"9M+g":function(t,e){},DYAP:function(t,e,n){"use strict";var r=n("mvHQ"),o=n.n(r),a=n("YtJ0"),i=n("YaEn");e.a={data:function(){return{form:{name:"",stu_num:"",phone:"",email:"",introduction:"",skill:"",want_learn:"",think_celitea:"",avatar:""},file:""}},methods:{submit:function(){var t=new FileReader;t.readAsDataURL(this.file);var e=this.form;t.onload=function(){console.log(e),e.avatar=t.result;var n="name="+e.name+"&stu_num="+e.stu_num+"&phone="+e.phone+"&email="+e.email+"&introduction="+e.introduction+"&skill="+e.skill+"&want_learn="+e.want_learn+"&think_celitea="+e.think_celitea+"&avatar="+t.result;console.log(o()(e)),fetch("http://ccssbb.cn/applications//",{headers:{"content-type":"application/x-www-form-urlencoded",Authorization:a.a.state.token},body:n,method:"post"}).then(function(t){return t.json()}).then(function(t){console.log(t),"fail"===t.loginStatu?(alert("登陆失效，请重新登陆!"),i.a.push("login")):"success"===t.apply?(alert("报名成功！"),i.a.push("/")):alert("报名失败！")})}}}}},GfHa:function(t,e){},I4t6:function(t,e,n){"use strict";var r=n("YaEn"),o=n("YtJ0");e.a={data:function(){return{form:{userPhoneNumber:"",userPassword:""},show:!0}},methods:{onSubmit:function(t){t.preventDefault();var e="userPhoneNumber="+this.form.userPhoneNumber+"&userPassword="+this.form.userPassword;console.log(e),fetch("http://ccssbb.cn/login/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e,credentials:"include"}).then(function(t){return t.json()}).then(function(t){"true"===t.loginStatus?(console.log(t.token),localStorage.token=t.token,o.a.commit("note_login_status",t.userName),alert("Login Success !"),r.a.push("/")):alert("login fail!")})},onReset:function(t){var e=this;t.preventDefault(),this.form.userPhoneNumber="",this.form.userPassword="",this.show=!1,this.$nextTick(function(){e.show=!0})}}}},Id91:function(t,e){},J56h:function(t,e,n){"use strict";function r(t){n("iDyL")}var o=n("3hq0"),a=n("oemB"),i=n("VU/8"),s=r,l=i(o.a,a.a,!1,s,null,null);e.a=l.exports},K31e:function(t,e,n){"use strict";var r=n("I4t6"),o=n("QIlq"),a=n("VU/8"),i=a(r.a,o.a,!1,null,null,null);e.a=i.exports},M93x:function(t,e,n){"use strict";function r(t){n("sI1n")}var o=n("xJD8"),a=n("WhM5"),i=n("VU/8"),s=r,l=i(o.a,a.a,!1,s,null,null);e.a=l.exports},MiD0:function(t,e,n){"use strict";e.a={computed:{items:function(){return[{article:"article",article_title:"article_title",id:"1",time:"1"},{article:"article",article_title:"article_title",id:"2",time:"2"},{article:"article",article_title:"article_title",id:"3",time:"3"}]}}}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),o=n("e6fC"),a=n("M93x"),i=n("YaEn"),s=n("NYxO"),l=n("YtJ0"),u=n("qb6w"),c=(n.n(u),n("9M+g"));n.n(c);r.a.use(o.a),r.a.use(s.a),r.a.config.productionTip=!1,new r.a({el:"#app",router:i.a,store:l.a,template:"<App/>",components:{App:a.a}})},Q0QB:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-com"},[t.show?n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"exampleInputGroup1",label:"电话号码:","label-for":"exampleInput1",description:"We'll never share your number with anyone else."}},[n("b-form-input",{attrs:{id:"exampleInput1",type:"tel",required:"",placeholder:"Enter phonenumber"},model:{value:t.form.userPhoneNumber,callback:function(e){t.$set(t.form,"userPhoneNumber",e)},expression:"form.userPhoneNumber"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"exampleInputGroup2",label:"用户名:","label-for":"exampleInput2"}},[n("b-form-input",{attrs:{id:"exampleInput2",type:"text",required:"",placeholder:"Enter name"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"密码","label-for":"exampleInput2"}},[n("b-form-input",{attrs:{type:"password",required:"",placeholder:"Enter password"},model:{value:t.form.userPassword,callback:function(e){t.$set(t.form,"userPassword",e)},expression:"form.userPassword"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"验证码"}},[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter code"},model:{value:t.form.userIdentifyingCode,callback:function(e){t.$set(t.form,"userIdentifyingCode",e)},expression:"form.userIdentifyingCode"}}),t._v(" "),n("b-button",{attrs:{type:"getIdentifyCode"},on:{click:t.getIdentifyCode}},[t._v("获取")])],1),t._v(" "),n("b-button",{attrs:{type:"提交",variant:"primary"}},[t._v("Submit")]),t._v(" "),n("b-button",{attrs:{type:"重置",variant:"danger"}},[t._v("Reset")])],1):t._e()],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},QIlq:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-com"},[t.show?n("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[n("b-form-group",{attrs:{id:"exampleInputGroup1",label:"电话号码:","label-for":"exampleInput1"}},[n("b-form-input",{attrs:{id:"exampleInput1",type:"tel",required:"",placeholder:"Enter phonenumber"},model:{value:t.form.userPhoneNumber,callback:function(e){t.$set(t.form,"userPhoneNumber",e)},expression:"form.userPhoneNumber"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"密码","label-for":"exampleInput2"}},[n("b-form-input",{attrs:{type:"password",required:"",placeholder:"Enter password"},model:{value:t.form.userPassword,callback:function(e){t.$set(t.form,"userPassword",e)},expression:"form.userPassword"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" "),n("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1):t._e()],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},R0R6:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-com"},[n("b-tabs",[n("b-tab",{attrs:{title:"查看报名信息"}},[n("br"),t._v(" "),n("b-table",{attrs:{striped:"",responsive:"",hover:"",busy:t.isBusy,fields:t.fields,items:t.get_items},on:{"update:busy":function(e){t.isBusy=e}},scopedSlots:t._u([{key:"头像",fn:function(e){return n("span",{domProps:{innerHTML:t._s(e.item.avatar_url)}})}},{key:"姓名",fn:function(e){return[t._v("\n                    "+t._s(e.item.name)+"\n                ")]}},{key:"学号",fn:function(e){return[t._v("\n                    "+t._s(e.item.stu_num)+"\n                ")]}},{key:"介绍",fn:function(e){return[t._v("\n                    "+t._s(e.item.introduction)+"\n                ")]}},{key:"邮箱",fn:function(e){return[t._v("\n                    "+t._s(e.item.email)+"\n                ")]}},{key:"电话号码",fn:function(e){return[t._v("\n                    "+t._s(e.item.phone)+"\n                ")]}},{key:"心中的Celitea",fn:function(e){return[t._v("\n                    "+t._s(e.item.think_celitea)+"\n                ")]}},{key:"希望学到什么",fn:function(e){return[t._v("\n                    "+t._s(e.item.want_learn)+"\n                ")]}},{key:"'技能成果",fn:function(e){return[t._v("\n                    "+t._s(e.item.skill)+"\n                ")]}},{key:"用户ID",fn:function(e){return[t._v("\n                    "+t._s(e.item.user_id)+"\n                ")]}}])})],1),t._v(" "),n("b-tab",{attrs:{title:"添加文章"}},[n("br"),t._v(" "),n("div",{ref:"editor",staticStyle:{"text-align":"left"}}),t._v(" "),n("b-button",{on:{click:t.submit}},[t._v("提交")])],1),t._v(" "),n("b-tab",{attrs:{title:"修改文章"}},[n("br"),t._v(" "),n("b-form",{attrs:{inline:""}},[n("label",{staticClass:"sr-only1",attrs:{for:"getArticleId"}},[t._v("Id")]),t._v(" "),n("b-input",{staticClass:"mb-2 mr-sm-2 mb-sm-0",attrs:{id:"getArticleId",placeholder:"article id"},model:{value:t.article_id,callback:function(e){t.article_id=e},expression:"article_id"}}),t._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:t.get_article}},[t._v("Get")])],1),t._v(" "),n("div",{ref:"editor_1",staticStyle:{"text-align":"left"}}),t._v(" "),n("b-button",{on:{click:t.put_article}},[t._v("submit")])],1)],1)],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},SM0H:function(t,e,n){"use strict";var r=n("sYY+"),o=n.n(r),a=n("YtJ0");e.a={data:function(){return{isBusy:!1,editorContent:"",article_id:"",editorContent_1:"test",fields:["头像","姓名","学号","介绍","技能成果","希望学到什么","心中的Celitea","邮箱","电话号码","用户ID"]}},mounted:function(){var t=this;window.editor=new o.a(this.$refs.editor),editor.customConfig.onchange=function(e){t.editorContent=e},editor.create(),window.editor_1=new o.a(this.$refs.editor_1),editor_1.customConfig.onchange=function(e){t.editorContent_1=e},editor_1.create()},methods:{submit:function(){fetch("http://ccssbb.cn/articles/",{headers:{Authorization:a.a.state.token,"content-type":"application/x-www-form-urlencoded"},method:"post",body:"article="+this.editorContent}).then(function(t){return t.json()}).then(function(t){"fail"===t.loginStatu?alert("登陆失效"):"success"===t.add_article?alert("添加成功"):alert("添加失败")})},get_items:function(t){return fetch("http://ccssbb.cn/applylist/",{headers:{Authorization:a.a.state.token},method:"get"}).then(function(t){return t.json().then(function(t){if(console.log(t),console.log("1"),"fail"===t.loginStatu)return alert("登陆失效"),[];if("no"===t.isadmin)return alert("not admin"),[];for(var e in t)console.log(t),console.log(t[e]),t[e].avatar_url='<img src="'+t[e].avatar_url+'" />',console.log(t[e].avatar_url);return t})})},get_article:function(){console.log(a.a.state.token),fetch("http://ccssbb.cn/apply_article/",{headers:{Authorization:a.a.state.token,"content-type":"application/x-www-form-urlencoded"},method:"post",body:"aritcle_id="+this.article_id}).then(function(t){return t.json()}).then(function(t){"fail"===t.loginStatu?alert("请登录"):"fail"===t.apply_article?alert("not admin!"):window.editor_1.txt.html("<p>"+t.article_title+"</p><p>"+t.article+"</p>")})},put_article:function(){fetch("http://ccssbb.cn/mod_article/",{headers:{Authorization:a.a.state.token,"content-type":"application/x-www-form-urlencoded"},method:"post",body:"article="+this.editorContent_1+"&aritcle_id="+this.article_id}).then(function(t){return t.json()}).then(function(t){"fail"===t.loginStatu?alert("请登录"):"fail"===t.mod_article?alert("not admin!"):"success"===t.mod_article?alert("success"):alert("fail")})}}}},WhM5:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav-bar"),t._v(" "),n("main",[n("router-view")],1)],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},YaEn:function(t,e,n){"use strict";var r=n("7+uW"),o=n("/ocq"),a=n("dAjm"),i=n("q3Wa"),s=n("K31e"),l=n("svim"),u=n("sRWR");r.a.use(o.a),e.a=new o.a({routes:[{path:"/",name:"index",component:a.a},{path:"/register",name:"register",component:i.a},{path:"/login",name:"login",component:s.a},{path:"/enroll",name:"enroll",component:l.a},{path:"/admin",name:"admin",component:u.a}]})},YtJ0:function(t,e,n){"use strict";var r=n("7+uW"),o=n("NYxO");r.a.use(o.a);var a=new o.a.Store({state:{userName:"",token:""},mutations:{note_login_status:function(t,e){localStorage.userName=e,t.userName=e,t.token=localStorage.token},clear_login_status:function(t){localStorage.clear(),t.userName="",t.token="",console.log(t)},init_login_status:function(t){void 0===localStorage.token?(t.userName="",t.token=""):(t.userName=localStorage.userName,t.token=localStorage.token)}},getters:{read_login_status:function(t){return""===t.token&&(t.userName=localStorage.userName,t.token=localStorage.token),t}}});e.a=a},cRYo:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-com"},[n("b-form",{on:{submit:t.submit}},[n("b-form-group",{attrs:{horizontal:"",breakpoint:"lg",label:"基本信息","label-size":"lg"}},[n("b-form-group",{attrs:{id:"InputGroup1",label:"姓名","label-for":"Input1"}},[n("b-form-input",{attrs:{id:"Input1",type:"text",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup2",label:"学号","label-for":"Input2"}},[n("b-form-input",{attrs:{id:"Input2",type:"text",required:""},model:{value:t.form.stu_num,callback:function(e){t.$set(t.form,"stu_num",e)},expression:"form.stu_num"}})],1)],1),t._v(" "),n("b-form-group",{attrs:{horizontal:"",breakpoint:"lg",label:"联系方式","label-size":"lg"}},[n("b-form-group",{attrs:{id:"InputGroup3",label:"电话号码","label-for":"Input3"}},[n("b-form-input",{attrs:{id:"input3",type:"tel",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup4",label:"邮箱","label-for":"Input4"}},[n("b-form-input",{attrs:{id:"input4",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup5",label:"个人简介：","label-for":"Input5"}},[n("b-form-textarea",{attrs:{id:"Input5",rows:3,"max-rows":5},model:{value:t.form.introduction,callback:function(e){t.$set(t.form,"introduction",e)},expression:"form.introduction"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup6",label:"计算机方面技能与成果：","label-for":"Input6"}},[n("b-form-textarea",{attrs:{id:"Input6",rows:3,"max-rows":5},model:{value:t.form.skill,callback:function(e){t.$set(t.form,"skill",e)},expression:"form.skill"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup7",label:"你心中的计算机精英协会：","label-for":"Input7"}},[n("b-form-textarea",{attrs:{id:"Input7",rows:3,"max-rows":5},model:{value:t.form.think_celitea,callback:function(e){t.$set(t.form,"think_celitea",e)},expression:"form.think_celitea"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup8",label:"你希望能从我们社团学到什么","label-for":"Input8"}},[n("b-form-textarea",{attrs:{id:"Input8",rows:3,"max-rows":5},model:{value:t.form.want_learn,callback:function(e){t.$set(t.form,"want_learn",e)},expression:"form.want_learn"}})],1),t._v(" "),n("b-form-group",{attrs:{id:"InputGroup9",label:"上传头像","label-for":"Input9"}},[n("b-form-file",{attrs:{id:"Input9",accept:"image/*",placeholder:"Choose a file..."},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("提交")])],1)],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},dAjm:function(t,e,n){"use strict";var r=n("MiD0"),o=n("xwRb"),a=n("VU/8"),i=a(r.a,o.a,!1,null,null,null);e.a=i.exports},iDyL:function(t,e){},oemB:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"info"}},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),n("b-navbar-brand",{attrs:{href:"#/"}},[t._v("Celitea")]),t._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",[n("b-nav-item",{on:{click:function(e){t.enroll()}}},[t._v("报名")]),t._v(" "),n("b-nav-item",{attrs:{href:"#"}},[t._v("关于我们")]),t._v(" "),n("b-nav-item",{attrs:{href:"#"}},[t._v("新手指导")])],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item-dropdown",{attrs:{id:"user_status",right:""}},[n("template",{slot:"button-content"},[n("em",[t._v(t._s(t.fi))])]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.login()}}},[t._v(t._s(t.se))]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.Signout()}}},[t._v(t._s(t.th))])],2)],1)],1)],1)],1)},o=[],a={render:r,staticRenderFns:o};e.a=a},q3Wa:function(t,e,n){"use strict";var r=n("3AY5"),o=n("Q0QB"),a=n("VU/8"),i=a(r.a,o.a,!1,null,null,null);e.a=i.exports},qb6w:function(t,e){},sI1n:function(t,e){},sRWR:function(t,e,n){"use strict";var r=n("SM0H"),o=n("R0R6"),a=n("VU/8"),i=a(r.a,o.a,!1,null,null,null);e.a=i.exports},svim:function(t,e,n){"use strict";var r=n("DYAP"),o=n("cRYo"),a=n("VU/8"),i=a(r.a,o.a,!1,null,null,null);e.a=i.exports},xJD8:function(t,e,n){"use strict";var r=n("J56h");e.a={name:"app",components:{"nav-bar":r.a}}},xwRb:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"self-com"},t._l(t.items,function(e){return n("b-card",{key:e.id,attrs:{title:e.article_title,"sub-title":e.time}},[n("p",{staticClass:"card-text"},[t._v("\n        "+t._s(e.article)+"    \n    ")]),t._v(" "),n("a",{staticClass:"card-link",attrs:{href:"#"}},[t._v("Card link")]),t._v(" "),n("b-link",{staticClass:"card-link",attrs:{href:"#"}},[t._v("Another link")])],1)}))},o=[],a={render:r,staticRenderFns:o};e.a=a},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.eb18038393962e26f4db.js.map